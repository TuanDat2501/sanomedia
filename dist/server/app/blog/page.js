(()=>{var e={};e.id=9404,e.ids=[9404],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},59863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(47791),r(61139),r(35866);var s=r(23191),n=r(88716),a=r(37922),l=r.n(a),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["blog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47791)),"D:\\Sano\\sanomedia\\src\\app\\blog\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,61139)),"D:\\Sano\\sanomedia\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Sano\\sanomedia\\src\\app\\blog\\page.tsx"],u="/blog/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/blog/page",pathname:"/blog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60083:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23))},2021:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(11185),n=r.n(s);let a=process.env.MONGODB_URI;if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let l=global.mongoose;l||(l=global.mongoose={conn:null,promise:null});let i=async function(){return l.conn||(l.promise||(l.promise=n().connect(a,{bufferCommands:!1}).then(e=>e)),l.conn=await l.promise),l.conn}},51316:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(11185),n=r.n(s);let a=new s.Schema({title:{type:String,required:!0},slug:{type:String,required:!0,unique:!0},description:{type:String,required:!0},thumbnail:{type:String},content:{type:String,required:!0},isPinned:{type:Boolean,default:!1}},{timestamps:!0}),l=n().models.Post||n().model("Post",a)},47791:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>i});var s=r(19510),n=r(57371),a=r(2021),l=r(51316);let i="force-dynamic";async function o(e){await (0,a.Z)();let t=await l.Z.countDocuments({});return{posts:JSON.parse(JSON.stringify(await l.Z.find({}).sort({isPinned:-1,createdAt:-1}).skip((e-1)*4).limit(4).lean())),totalPages:Math.ceil(t/4),currentPage:e}}async function d({searchParams:e}){let t=parseInt(e.page||"1"),{posts:r,totalPages:a,currentPage:l}=await o(t);return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12 min-h-screen",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog & Tin Tức"}),s.jsx("p",{className:"text-gray-600",children:"Cập nhật những hoạt động v\xe0 th\xf4ng tin mới nhất"})]}),0===r.length?s.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-500",children:"Chưa c\xf3 b\xe0i viết n\xe0o."})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 mb-12",children:r.map(e=>(0,s.jsxs)("article",{className:`flex bg-white border rounded-lg overflow-hidden hover:shadow-md transition-shadow duration-300 relative 
        w-full max-w-[520px] mx-auto 
        h-32 md:h-36 max-h-[150px]
        ${e.isPinned?"border-blue-300 ring-1 ring-blue-50":"border-gray-200"}
      `,children:[e.isPinned&&s.jsx("div",{className:"absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-bl-lg z-10",children:"Đ\xe3 ghim"}),s.jsx(n.default,{href:`/blog/${e.slug}`,className:"block relative w-1/3 md:w-2/5 flex-shrink-0 group overflow-hidden",children:e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400 text-sm",children:"No Image"})}),(0,s.jsxs)("div",{className:"p-4 md:p-5 flex flex-col flex-grow w-2/3 md:w-3/5",children:[s.jsx("div",{className:"text-xs text-blue-600 mb-2 font-semibold",children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),s.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900 line-clamp-2 hover:text-blue-600",children:s.jsx(n.default,{href:`/blog/${e.slug}`,children:e.title})}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 flex-grow text-sm",style:{marginTop:"10px !important"},children:e.description}),s.jsx(n.default,{href:`/blog/${e.slug}`,className:"text-blue-600 font-medium text-sm hover:underline mt-auto",children:"Đọc chi tiết"})]})]},e._id))}),a>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[l>1?s.jsx(n.default,{href:`/blog?page=${l-1}`,className:"px-4 py-2 border rounded hover:bg-gray-100 text-gray-700",children:"\xab Trước"}):s.jsx("span",{className:"px-4 py-2 border rounded text-gray-300 cursor-not-allowed",children:"\xab Trước"}),Array.from({length:a},(e,t)=>t+1).map(e=>s.jsx(n.default,{href:`/blog?page=${e}`,className:`px-4 py-2 border rounded ${e===l?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-100 text-gray-700"}`,children:e},e)),l<a?s.jsx(n.default,{href:`/blog?page=${l+1}`,className:"px-4 py-2 border rounded hover:bg-gray-100 text-gray-700",children:"Sau \xbb"}):s.jsx("span",{className:"px-4 py-2 border rounded text-gray-300 cursor-not-allowed",children:"Sau \xbb"})]})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,6382,6783,2727],()=>r(59863));module.exports=s})();